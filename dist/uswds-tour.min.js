var USWDSTour=function(t){"use strict";function e(){document.querySelectorAll("[data-tour-trigger]").forEach(t=>{const e=t.getAttribute("data-tour-trigger");if(!e)return;const o=document.getElementById(e);if(!o)return;const n=()=>{i({element:t,title:t.getAttribute("data-tour-title")||"",description:t.getAttribute("data-tour-description")||"",position:t.getAttribute("data-tour-position")||"bottom",className:t.getAttribute("data-tour-class")||"",showControls:!1})};o.removeEventListener("click",n),o.addEventListener("click",n)})}"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e());let o=null;function n(){return null!==o||(o=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight,window.innerHeight)),o}function i({element:t,title:e,description:i,position:s="bottom",className:r="",showControls:u=!1,onNext:l,onPrev:d,onClose:a,isLastStep:c=!1}){const h="string"==typeof t?document.querySelector(t):t;if(!h)return void console.warn("USWDS-Tour: Target element not found.");document.querySelectorAll(".uswds-tour-tooltip, .uswds-tour-overlay, .usa-modal__overlay, .usa-modal").forEach(t=>t.remove());const p=h.getBoundingClientRect(),m={x:p.left-16,y:p.top-16,width:p.width+32,height:p.height+32},y=document.createElement("div");y.className="uswds-tour-spotlight-overlay",y.style.position="absolute",y.style.top="0",y.style.left="0",y.style.width="100vw",y.style.height=`${n()}px`,y.style.background="transparent",y.style.margin="0",y.style.zIndex=1e3,y.style.pointerEvents="auto",y.style.transition="background 0.2s",y.addEventListener("click",t=>{t.target===y&&(q(),a&&a())});const b="http://www.w3.org/2000/svg",w=document.createElementNS(b,"svg");function g(){o=null;const t=n();y.style.height=`${t}px`,w.setAttribute("width",window.innerWidth),w.setAttribute("height",t),w.setAttribute("viewBox",`0 0 ${window.innerWidth} ${t}`),w.style.width=`${window.innerWidth}px`,w.style.height=`${t}px`,A.setAttribute("width",window.innerWidth),A.setAttribute("height",t),x.setAttribute("width",window.innerWidth),x.setAttribute("height",t)}w.setAttribute("width",window.innerWidth),w.setAttribute("height",n()),w.setAttribute("viewBox",`0 0 ${window.innerWidth} ${n()}`),w.style.position="absolute",w.style.top="0",w.style.left="0",w.style.width=`${window.innerWidth}px`,w.style.height=`${n()}px`,w.style.pointerEvents="none",window.addEventListener("resize",g);const f="uswds-tour-mask",v=document.createElementNS(b,"mask");v.setAttribute("id",f);const A=document.createElementNS(b,"rect");A.setAttribute("x","0"),A.setAttribute("y","0"),A.setAttribute("width",window.innerWidth),A.setAttribute("height",n()),A.setAttribute("fill","white"),v.appendChild(A);const E=document.createElementNS(b,"rect");E.setAttribute("x",m.x),E.setAttribute("y",m.y),E.setAttribute("width",m.width),E.setAttribute("height",m.height),E.setAttribute("rx",12),E.setAttribute("fill","black"),v.appendChild(E),w.appendChild(v);const x=document.createElementNS(b,"rect");x.setAttribute("x","0"),x.setAttribute("y","0"),x.setAttribute("width",window.innerWidth),x.setAttribute("height",n()),x.setAttribute("fill","currentColor"),x.setAttribute("mask",`url(#${f})`),w.appendChild(x),y.appendChild(w),y.style.color="rgba(0,0,0,0.5)",y.style.background="transparent",document.body.appendChild(y);const k=document.createElement("div");k.className=`usa-modal uswds-tour-tooltip ${r||""}`,k.setAttribute("role","dialog"),k.setAttribute("aria-modal","true"),k.setAttribute("aria-labelledby","uswds-tour-title"),k.setAttribute("aria-describedby","uswds-tour-desc"),k.style.zIndex=1001,k.style.position="absolute",k.style.width="auto",k.style.height="auto",k.style.display="block",k.style.minWidth="320px",k.style.maxWidth="400px",k.style.margin="0";let S="";if(u){S=`\n      <div class="usa-modal__footer">\n        <ul class="usa-button-group">\n          <li class="usa-button-group__item">\n            <button type="button" class="usa-button usa-button--unstyled padding-105 text-center" id="uswds-tour-prev">Back</button>\n          </li>\n          <li class="usa-button-group__item">\n            <button type="button" class="usa-button" id="uswds-tour-next">${c?"End Tour":"Next"}</button>\n          </li>\n        </ul>\n      </div>\n    `}k.innerHTML=`\n    <div class="usa-modal__content">\n      <div class="usa-modal__main">\n        <h2 class="usa-modal__heading" id="uswds-tour-title">${e}</h2>\n        <div class="usa-prose" style="max-height:200px; overflow-y: auto;">\n          <p id="uswds-tour-desc">${i}</p>\n        </div>\n        ${S}\n      </div>\n      <button type="button" class="usa-button usa-modal__close" aria-label="Close this window" id="uswds-tour-close">\n        <svg class="usa-icon" aria-hidden="true" focusable="false" role="img" style="width: 1em; height: 1em; vertical-align: middle;">\n          <use href="/assets/img/sprite.svg#close"></use>\n        </svg>\n      </button>\n    </div>\n  `,document.body.appendChild(k);const C=k.getBoundingClientRect(),$=parseFloat(getComputedStyle(document.documentElement).fontSize);let L=0,_=0;switch(s){case"top":L=p.top-C.height-2*$,_=p.left-$;break;case"right":L=p.top-$,_=p.right+2*$;break;case"left":L=p.top-$,_=p.left-C.width-2*$;break;default:L=p.bottom+2*$,_=p.left-$}k.style.top=`${L}px`,k.style.left=`${_}px`;const W=k.querySelector("#uswds-tour-close"),N=k.querySelector("#uswds-tour-next"),T=k.querySelector("#uswds-tour-prev"),D=[T,N,W].filter(Boolean);let H=0;function q(){k.remove(),y.remove(),h&&"function"==typeof h.focus&&document.body.contains(h)&&h.focus(),document.removeEventListener("keydown",B),window.removeEventListener("resize",g)}function B(t){if("Tab"===t.key){if(0===D.length)return;t.preventDefault(),H=t.shiftKey?(H-1+D.length)%D.length:(H+1)%D.length,D[H].focus()}"ArrowRight"!==t.key&&"ArrowDown"!==t.key||N&&(t.preventDefault(),N.focus(),"keydown"===t.type&&document.activeElement===N&&(q(),l&&l())),"ArrowLeft"!==t.key&&"ArrowUp"!==t.key||T&&(t.preventDefault(),T.focus(),"keydown"===t.type&&document.activeElement===T&&(q(),d&&d())),"Escape"===t.key&&(q(),a&&a())}(D[0]||W).focus(),W&&W.addEventListener("click",()=>{q(),l&&l()}),N&&N.addEventListener("click",()=>{q(),l&&l()}),T&&T.addEventListener("click",()=>{q(),d&&d()}),document.addEventListener("keydown",B)}function s(t=[],e={}){if(!Array.isArray(t)||0===t.length){const e=Array.from(document.querySelectorAll("[data-tour-step]"));e.sort((t,e)=>parseInt(t.getAttribute("data-tour-step"),10)-parseInt(e.getAttribute("data-tour-step"),10)),t=e.map(t=>({element:t,title:t.getAttribute("data-tour-title")||"",description:t.getAttribute("data-tour-description")||"",position:t.getAttribute("data-tour-position")||"bottom",className:t.getAttribute("data-tour-class")||""}))}let o=0;const{onStart:n,onComplete:s,onStepChange:r}=e;let u=!1;!function e(l){if(l<0||l>=t.length)return u&&"function"==typeof s&&s(),void(u=!1);u||(u=!0,"function"==typeof n&&n()),"function"==typeof r&&r(l,t[l]),i({...t[l],showControls:!0,isLastStep:l===t.length-1,onNext:()=>e(l+1),onPrev:()=>e(l-1),onClose:()=>{u&&"function"==typeof s&&s(),u=!1,o=0}})}(o)}return window.USWDSTour={showTooltip:i,startTour:s},t.showTooltip=i,t.startTour=s,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t}({});
