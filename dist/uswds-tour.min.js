var USWDSTour=function(t){"use strict";if("undefined"!=typeof window&&"undefined"!=typeof document){let t=function(){document.querySelectorAll("[data-tour-trigger]").forEach(t=>{const e=t.getAttribute("data-tour-trigger");if(!e)return;const o=document.getElementById(e);if(!o)return;const i=()=>{n({element:t,title:t.getAttribute("data-tour-title")||"",description:t.getAttribute("data-tour-description")||"",position:t.getAttribute("data-tour-position")||"bottom",className:t.getAttribute("data-tour-class")||"",showControls:!1})};o.removeEventListener("click",i),o.addEventListener("click",i)}),document.querySelectorAll("[data-tour-start]").forEach(t=>{t.addEventListener("click",()=>{i([],{})})})};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",t):t()}let e=null;function o(){return null!==e||(e=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight,window.innerHeight)),e}function n({element:t,title:e,description:n,position:i="bottom",className:s="",showControls:r=!1,onNext:l,onPrev:d,onClose:u,isLastStep:a=!1}){const c="string"==typeof t?document.querySelector(t):t;if(!c)return void console.warn("USWDS-Tour: Target element not found.");if(window.innerWidth<800&&c&&"function"==typeof c.getBoundingClientRect){const t=c.getBoundingClientRect(),e=parseFloat(getComputedStyle(document.documentElement).fontSize),o=Math.floor(window.innerHeight/3),n=window.innerHeight-o,i=window.scrollY+t.top-(n-2*e);i!==window.scrollY&&window.scrollTo({top:i,behavior:"smooth"})}document.querySelectorAll(".uswds-tour-tooltip, .uswds-tour-overlay, .usa-modal__overlay, .usa-modal").forEach(t=>t.remove());const h=c.getBoundingClientRect(),w={x:h.left+window.scrollX-16,y:h.top+window.scrollY-16,width:h.width+32,height:h.height+32},m=document.createElement("div");m.className="uswds-tour-spotlight-overlay",m.style.position="absolute",m.style.top="0",m.style.left="0",m.style.width="100vw",m.style.height=`${o()}px`,m.style.background="transparent",m.style.margin="0",m.style.zIndex=1e3,m.style.pointerEvents="auto",m.style.transition="background 0.2s",m.addEventListener("click",t=>{t.target===m&&(T(),u&&u())});const p="http://www.w3.org/2000/svg",y=document.createElementNS(p,"svg");function b(){const t=o();y.setAttribute("width",window.innerWidth),y.setAttribute("height",t),y.setAttribute("viewBox",`0 0 ${window.innerWidth} ${t}`),y.style.width=`${window.innerWidth}px`,y.style.height=`${t}px`,v.setAttribute("width",window.innerWidth),v.setAttribute("height",t),E.setAttribute("width",window.innerWidth),E.setAttribute("height",t)}y.setAttribute("width",window.innerWidth),y.setAttribute("height",o()),y.setAttribute("viewBox",`0 0 ${window.innerWidth} ${o()}`),y.style.position="absolute",y.style.top="0",y.style.left="0",y.style.width=`${window.innerWidth}px`,y.style.height=`${o()}px`,y.style.pointerEvents="none",window.addEventListener("resize",b);const g="uswds-tour-mask",f=document.createElementNS(p,"mask");f.setAttribute("id",g);const v=document.createElementNS(p,"rect");v.setAttribute("x","0"),v.setAttribute("y","0"),v.setAttribute("width",window.innerWidth),v.setAttribute("height",o()),v.setAttribute("fill","white"),f.appendChild(v);const A=document.createElementNS(p,"rect");A.setAttribute("x",w.x),A.setAttribute("y",w.y),A.setAttribute("width",w.width),A.setAttribute("height",w.height),A.setAttribute("rx",12),A.setAttribute("fill","black"),f.appendChild(A),y.appendChild(f);const E=document.createElementNS(p,"rect");E.setAttribute("x","0"),E.setAttribute("y","0"),E.setAttribute("width",window.innerWidth),E.setAttribute("height",o()),E.setAttribute("fill","currentColor"),E.setAttribute("mask",`url(#${g})`),y.appendChild(E),m.appendChild(y),m.style.color="rgba(0,0,0,0.5)",m.style.background="transparent",document.body.appendChild(m);const x=document.createElement("div");x.className=`usa-modal uswds-tour-tooltip ${s||""}`,x.setAttribute("role","dialog"),x.setAttribute("aria-modal","true"),x.setAttribute("aria-labelledby","uswds-tour-title"),x.setAttribute("aria-describedby","uswds-tour-desc"),x.style.zIndex=1001,window.innerWidth<800?(x.style.position="fixed",x.style.left="0",x.style.bottom="0",x.style.top="",x.style.width="100vw",x.style.maxWidth="",x.style.minWidth="",x.style.borderRadius="0",x.style.margin="0",x.style.height="auto",x.style.maxHeight="420px",x.style.display="block"):(x.style.position="absolute",x.style.width="auto",x.style.height="auto",x.style.display="block",x.style.minWidth="320px",x.style.maxWidth="400px",x.style.margin="0");let k="";if(r){k=`\n      <div class="usa-modal__footer">\n        <ul class="usa-button-group">\n          <li class="usa-button-group__item">\n            <button type="button" class="usa-button usa-button--unstyled padding-105 text-center" id="uswds-tour-prev">Back</button>\n          </li>\n          <li class="usa-button-group__item">\n            <button type="button" class="usa-button" id="uswds-tour-next">${a?"End Tour":"Next"}</button>\n          </li>\n        </ul>\n      </div>\n    `}x.innerHTML=`\n    <div class="usa-modal__content">\n      <div class="usa-modal__main">\n        <h2 class="usa-modal__heading" id="uswds-tour-title">${e}</h2>\n        <div class="usa-prose" style="max-height:200px; overflow-y: auto;">\n          <p id="uswds-tour-desc">${n}</p>\n        </div>\n        ${k}\n      </div>\n      <button type="button" class="usa-button usa-modal__close" aria-label="Close this window" id="uswds-tour-close">\n        <svg class="usa-icon padding-right-1" aria-hidden="true" focusable="false" role="img" style="width: 1.5rem; height: 1.5rem; vertical-align: middle;">\n          <path d="M16.97 4.97a.75.75 0 0 0-1.06-1.06L12 7.94 8.09 3.91A.75.75 0 1 0 7.03 4.97l3.91 4.03-3.91 4.03a.75.75 0 1 0 1.06 1.06L12 10.06l3.91 4.03a.75.75 0 1 0 1.06-1.06l-3.91-4.03 3.91-4.03z"/>\n        </svg>\n      </button>\n    </div>\n  `,document.body.appendChild(x);const S=x.getBoundingClientRect(),C=parseFloat(getComputedStyle(document.documentElement).fontSize);if(window.innerWidth>=800){let t=0,e=0;switch(i){case"top":t=h.top-S.height-2*C,e=h.left-C;break;case"right":t=h.top-C,e=h.right+2*C;break;case"left":t=h.top-C,e=h.left-S.width-2*C;break;default:t=h.bottom+2*C,e=h.left-C}x.style.top=`${t}px`,x.style.left=`${e}px`}const W=x.querySelector("#uswds-tour-close"),L=x.querySelector("#uswds-tour-next"),$=x.querySelector("#uswds-tour-prev"),_=[$,L,W].filter(Boolean);let N=0;function T(){x.remove(),m.remove(),c&&"function"==typeof c.focus&&document.body.contains(c)&&c.focus(),document.removeEventListener("keydown",H),window.removeEventListener("resize",b)}function H(t){if("Tab"===t.key){if(0===_.length)return;t.preventDefault(),N=t.shiftKey?(N-1+_.length)%_.length:(N+1)%_.length,_[N].focus()}"ArrowRight"!==t.key&&"ArrowDown"!==t.key||L&&(t.preventDefault(),L.focus(),"keydown"===t.type&&document.activeElement===L&&(T(),l&&l())),"ArrowLeft"!==t.key&&"ArrowUp"!==t.key||$&&(t.preventDefault(),$.focus(),"keydown"===t.type&&document.activeElement===$&&(T(),d&&d())),"Escape"===t.key&&(T(),u&&u())}(_[0]||W).focus(),W&&W.addEventListener("click",()=>{T(),l&&l()}),L&&L.addEventListener("click",()=>{T(),l&&l()}),$&&$.addEventListener("click",()=>{T(),d&&d()}),document.addEventListener("keydown",H)}function i(t=[],e={}){if(!Array.isArray(t)||0===t.length){const e=Array.from(document.querySelectorAll("[data-tour-step]"));e.sort((t,e)=>parseInt(t.getAttribute("data-tour-step"),10)-parseInt(e.getAttribute("data-tour-step"),10)),t=e.map(t=>({element:t,title:t.getAttribute("data-tour-title")||"",description:t.getAttribute("data-tour-description")||"",position:t.getAttribute("data-tour-position")||"bottom",className:t.getAttribute("data-tour-class")||""}))}let o=0;const{onStart:i,onComplete:s,onStepChange:r}=e;let l=!1;!function e(d){if(d<0||d>=t.length)return l&&"function"==typeof s&&s(),void(l=!1);l||(l=!0,"function"==typeof i&&i()),"function"==typeof r&&r(d,t[d]),n({...t[d],showControls:!0,isLastStep:d===t.length-1,onNext:()=>e(d+1),onPrev:()=>e(d-1),onClose:()=>{l&&"function"==typeof s&&s(),l=!1,o=0}})}(o)}return window.USWDSTour={showTooltip:n,startTour:i},t.showTooltip=n,t.startTour=i,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t}({});
