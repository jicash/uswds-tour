var USWDSTour=function(t){"use strict";if("undefined"!=typeof window&&"undefined"!=typeof document){let t=function(){document.querySelectorAll("[data-tour-trigger]").forEach(t=>{const e=t.getAttribute("data-tour-trigger");if(!e)return;const o=document.getElementById(e);if(!o)return;const i=()=>{n({element:t,title:t.getAttribute("data-tour-title")||"",description:t.getAttribute("data-tour-description")||"",position:t.getAttribute("data-tour-position")||"bottom",className:t.getAttribute("data-tour-class")||"",showControls:!1})};o.removeEventListener("click",i),o.addEventListener("click",i)}),document.querySelectorAll("[data-tour-start]").forEach(t=>{t.addEventListener("click",()=>{i([],{})})})};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",t):t()}let e=null;function o(){return null!==e||(e=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight,window.innerHeight)),e}function n({element:t,title:e,description:n,position:i="bottom",className:r="",showControls:l=!1,onNext:d,onPrev:u,onClose:a,isLastStep:c=!1}){const h="string"==typeof t?document.querySelector(t):t;if(!h)return void console.warn("USWDS-Tour: Target element not found.");let w=s(h);const p=parseFloat(getComputedStyle(document.documentElement).fontSize),m=Math.floor(window.innerHeight/3),y=window.innerHeight-m,g=window.scrollY+w.top-(y-2*p);g!==window.scrollY&&(console.log("Scrolling to position:",g),window.scrollTo({top:g,behavior:"smooth"})),w=s(h),document.querySelectorAll(".uswds-tour-tooltip, .uswds-tour-overlay, .usa-modal__overlay, .usa-modal").forEach(t=>t.remove());const b={x:w.left-16,y:w.top-16,width:w.width+32,height:w.height+32},f=document.createElement("div");f.className="uswds-tour-spotlight-overlay",f.style.position="absolute",f.style.top="0",f.style.left="0",f.style.width="100vw",f.style.height=`${o()}px`,f.style.background="transparent",f.style.margin="0",f.style.zIndex=1e3,f.style.pointerEvents="auto",f.style.transition="background 0.2s",f.addEventListener("click",t=>{t.target===f&&(z(),a&&a())});const v="http://www.w3.org/2000/svg",A=document.createElementNS(v,"svg");function x(){const t=o();A.setAttribute("width",window.innerWidth),A.setAttribute("height",t),A.setAttribute("viewBox",`0 0 ${window.innerWidth} ${t}`),A.style.width=`${window.innerWidth}px`,A.style.height=`${t}px`,S.setAttribute("width",window.innerWidth),S.setAttribute("height",t),L.setAttribute("width",window.innerWidth),L.setAttribute("height",t)}A.setAttribute("width",window.innerWidth),A.setAttribute("height",o()),A.setAttribute("viewBox",`0 0 ${window.innerWidth} ${o()}`),A.style.position="absolute",A.style.top="0",A.style.left="0",A.style.width=`${window.innerWidth}px`,A.style.height=`${o()}px`,A.style.pointerEvents="none",window.addEventListener("resize",x);const E="uswds-tour-mask",k=document.createElementNS(v,"mask");k.setAttribute("id",E);const S=document.createElementNS(v,"rect");S.setAttribute("x","0"),S.setAttribute("y","0"),S.setAttribute("width",window.innerWidth),S.setAttribute("height",o()),S.setAttribute("fill","white"),k.appendChild(S);const C=document.createElementNS(v,"rect");C.setAttribute("x",b.x),C.setAttribute("y",b.y),C.setAttribute("width",b.width),C.setAttribute("height",b.height),C.setAttribute("rx",12),C.setAttribute("fill","black"),k.appendChild(C),A.appendChild(k);const L=document.createElementNS(v,"rect");L.setAttribute("x","0"),L.setAttribute("y","0"),L.setAttribute("width",window.innerWidth),L.setAttribute("height",o()),L.setAttribute("fill","currentColor"),L.setAttribute("mask",`url(#${E})`),A.appendChild(L),f.appendChild(A),f.style.color="rgba(0,0,0,0.5)",f.style.background="transparent",document.body.appendChild(f);const W=document.createElement("div");W.className=`usa-modal uswds-tour-tooltip ${r||""}`,W.setAttribute("role","dialog"),W.setAttribute("aria-modal","true"),W.setAttribute("aria-labelledby","uswds-tour-title"),W.setAttribute("aria-describedby","uswds-tour-desc"),W.style.zIndex=1001,window.innerWidth<800?(W.style.position="fixed",W.style.left="0",W.style.right="0",W.style.bottom="0",W.style.top="",W.style.width="100vw",W.style.maxWidth="100vw",W.style.minWidth="100vw",W.style.borderRadius="0",W.style.margin="0",W.style.height="auto",W.style.maxHeight="420px",W.style.display="block"):(W.style.position="absolute",W.style.width="auto",W.style.height="auto",W.style.display="block",W.style.minWidth="320px",W.style.maxWidth="400px",W.style.margin="0");let $="";if(l){$=`\n      <div class="usa-modal__footer">\n        <ul class="usa-button-group">\n          <li class="usa-button-group__item">\n            <button type="button" class="usa-button usa-button--unstyled padding-105 text-center" id="uswds-tour-prev">Back</button>\n          </li>\n          <li class="usa-button-group__item">\n            <button type="button" class="usa-button" id="uswds-tour-next">${c?"End Tour":"Next"}</button>\n          </li>\n        </ul>\n      </div>\n    `}W.innerHTML=`\n    <div class="usa-modal__content">\n      <div class="usa-modal__main">\n        <h2 class="usa-modal__heading" id="uswds-tour-title">${e}</h2>\n        <div class="usa-prose" style="max-height:200px; overflow-y: auto;">\n          <p id="uswds-tour-desc">${n}</p>\n        </div>\n        ${$}\n      </div>\n      <button type="button" class="usa-button usa-modal__close" aria-label="Close this window" id="uswds-tour-close">\n        <svg class="usa-icon padding-right-1" aria-hidden="true" focusable="false" role="img" style="width: 1.5rem; height: 1.5rem; vertical-align: middle;">\n          <path d="M16.97 4.97a.75.75 0 0 0-1.06-1.06L12 7.94 8.09 3.91A.75.75 0 1 0 7.03 4.97l3.91 4.03-3.91 4.03a.75.75 0 1 0 1.06 1.06L12 10.06l3.91 4.03a.75.75 0 1 0 1.06-1.06l-3.91-4.03 3.91-4.03z"/>\n        </svg>\n      </button>\n    </div>\n  `,document.body.appendChild(W);const _=s(W);if(window.innerWidth>=800){let t=0,e=0;switch(i){case"top":t=w.top-_.height-2*p,e=w.left-p;break;case"right":t=w.top-p,e=w.right+2*p;break;case"left":t=w.top-p,e=w.left-_.width-2*p;break;default:t=w.bottom+2*p,e=w.left-p}W.style.top=`${t}px`,W.style.left=`${e}px`}const N=W.querySelector("#uswds-tour-close"),T=W.querySelector("#uswds-tour-next"),H=W.querySelector("#uswds-tour-prev"),q=[H,T,N].filter(Boolean);let D=0;function z(){W.remove(),f.remove(),h&&"function"==typeof h.focus&&document.body.contains(h)&&h.focus(),document.removeEventListener("keydown",B),window.removeEventListener("resize",x)}function B(t){if("Tab"===t.key){if(0===q.length)return;t.preventDefault(),D=t.shiftKey?(D-1+q.length)%q.length:(D+1)%q.length,q[D].focus()}"ArrowRight"!==t.key&&"ArrowDown"!==t.key||T&&(t.preventDefault(),T.focus(),"keydown"===t.type&&document.activeElement===T&&(z(),d&&d())),"ArrowLeft"!==t.key&&"ArrowUp"!==t.key||H&&(t.preventDefault(),H.focus(),"keydown"===t.type&&document.activeElement===H&&(z(),u&&u())),"Escape"===t.key&&(z(),a&&a())}(q[0]||N).focus(),N&&N.addEventListener("click",()=>{z()}),T&&T.addEventListener("click",()=>{z(),d&&d()}),H&&H.addEventListener("click",()=>{z(),u&&u()}),document.addEventListener("keydown",B)}function i(t=[],e={}){if(!Array.isArray(t)||0===t.length){const e=Array.from(document.querySelectorAll("[data-tour-step]"));e.sort((t,e)=>parseInt(t.getAttribute("data-tour-step"),10)-parseInt(e.getAttribute("data-tour-step"),10)),t=e.map(t=>({element:t,title:t.getAttribute("data-tour-title")||"",description:t.getAttribute("data-tour-description")||"",position:t.getAttribute("data-tour-position")||"bottom",className:t.getAttribute("data-tour-class")||""}))}let o=0;const{onStart:i,onComplete:s,onStepChange:r}=e;let l=!1;!function e(d){if(d<0||d>=t.length)return l&&"function"==typeof s&&s(),void(l=!1);l||(l=!0,"function"==typeof i&&i()),"function"==typeof r&&r(d,t[d]),n({...t[d],showControls:!0,isLastStep:d===t.length-1,onNext:()=>e(d+1),onPrev:()=>e(d-1),onClose:()=>{l&&"function"==typeof s&&s(),l=!1,o=0}})}(o)}function s(t){const e=t.getBoundingClientRect(),o={top:e.top+window.scrollY,left:e.left+window.scrollX,bottom:e.bottom+window.scrollY,right:e.right+window.scrollX,width:e.width,height:e.height};return console.log("Adjusted Rect:",o),console.log("Original Rect:",e),o}return window.USWDSTour={showTooltip:n,startTour:i},t.showTooltip=n,t.startTour=i,Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t}({});
